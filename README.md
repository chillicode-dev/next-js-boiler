# Шаблон для быстрого старта на React
Лекарственное средство от головной боли при разработке
проектов на React + Next.js.

#### Форма выпуска, состав и упаковка
Каркас в виде готовой базовой структуры файлов, технологий и паттернов,
собранных в единый репозиторий для быстрого старта любого проекта на React внутри 
команды Chillicode.

#### Фармакологическое действие
- Оказывает анальгетическое, жаропонижающее и противовоспалительное действие на пятую точку девелопера
на этапе создания экосистемы проекта;
- Помогает справиться с посттравматическим и лихорадочным синдромом после поддержки легаси.

#### Показания к применению
- SPA-приложения (SSR присутствует)
- Сервисы и микросервисы
- Корпоративные сайты
- REST API / Headless CMS
- Интернет-магазины

#### Противопоказания
- Простые лендинги
- Сайты-презентации с большим количеством анимации и разношерстных компонентов

## Содержание
1. Что внутри?
2. Начало работы
    - Окружение
    - Установка зависимостей
    - Запуск development-версии
    - Запуск production-версии
    - Настройка IDE (дополнительно)
        - WebStorm
        - VS Code
3. Структура проекта
    - /assets/
    - /classes/
    - /components/
    - /hocs/
    - /pages/
    - /public/
    - /sections/
    - /store/
    - /styles/
    - /templates/
    - /tests/
    - /utils/
    - /webpack/
4. Ведение разработки
    - Git-регламент
    - Импорты и алиасы
    - Создание компонентов
    - Стили
    - Страницы
    - Redux
    - Тестирование

## Что внутри?
- Next.js 9 в качестве платформы
- SCSS
- PostCSS Autoprefixer and CSS Modules
- Сетка на основе Susy
- ESLint
- Stylelint
- Prettier (не конфликтует с ESLint и Stylelint)
- Jest
- Git-хуки с правками от таких ребят как ESLint, Stylelint и Prettier
- Templateman для быстрого создания повторяющихся компонентов
- Production-оптимизации: CSSO, Imagemin и SVGO
- Webpack file loaders
- ES7 декораторы
- Redux (на основе Ducks паттерна)
- Базовые компоненты и компоненты высшего порядка (HOCs или Хоки)

## Начало работы
### Окружение
Разработка ведется в системах MacOS или Linux.
На Windows все команды следует выполнять в UNIX-подобной среде (WSL, Git Bash или Cygwin).

### Установка зависимостей
Для инициализации проекта устанавливаем зависимости и копируем образец env-переменных:
1. `npm install`
2. `cp .env.example .env`

### Запуск development-версии
Для запуска Next development-сервера:
```
npm run dev
```
Затем переходим на `http://localhost:3000`.

Для изменения порта можно указать:
```
npm run dev -- -p <your port here>
```

### Запуск production-версии
1. Собираем приложение с помощью `npm run build`
2. Запускаем сервер `npm run start`

### Настройка IDE (дополнительно)
#### WebStorm
В процессе написания ✏

#### VS Code
В процессе написания ✏


## Структура проекта
### Общие положения
1. Все пути внутри приложения снабжены [алиасами](https://webpack.js.org/configuration/resolve/#resolvealias) 
для  удобного отображения относительно корня проекта. При добавлении папки в корень проекта 
следует добавить также ее алиас в `next.config.js` (ищем внутри `config.resolve.alias`).
2. Каждый корневой папке для удобства желательно добавлять `index.js` файл с экспортами всего содержимого. 
К примеру, чтобы в будущем в коде импортировать `import {url} from 'utils';` вместо `import url from 'utils/url';`.

### /assets/
Папка для хранения ассетов приложения (изображения, иконки, шрифты, видео, документы и прочие файлы), 
которые импортируются в JS и SCSS-код с помощью Webpack.
#### Импорт файлов в код
Импорт файлов в проект производится с помощью Webpack [file-loader](https://www.npmjs.com/package/file-loader) и распространяется на файлы 
с расширениями eot, woff, woff2, ttf, svg, png, jpg, jpeg, gif. Добавить типы файлов можно в `next.config.js`.

Пример (JS):
```jsx harmony
import logoImg from 'assets/img/logo.png';

const logo = <img src={logoImg} alt="Logo" />;
```

Пример (SCSS):
```scss
.logo {
  background-image: url('assets/img/logo.png');
}
```
#### Импорт SVG-иконок
Импортировать иконки можно напрямую в качестве React-компонента с помощью [react-svg-loader](https://www.npmjs.com/package/react-svg-loader). 
SVG-код в таком случае будет встраиваться инлайново, благодаря чему на него можно влиять с помощью CSS.

Это правило распространяется только на иконки, лежащие в папке `/assets/icons/`. 
Если есть необходимость импортировать иконки в качестве ссылок, их нужно хранить в другой директории внутри `/assets/`.

Пример:
```js
import LoaderIcon from 'assets/icons/loader.svg';

const loader = <LoaderIcon width={48} height={48} />;
```

### /classes/
В этой директории хранятся вспомогательные классы для работы внутри приложения.
К примеру, мы можем создать класс-обертку `Api` для работы с REST API приложения.

Обращаем внимание, что здесь хранятся только файлы реализации классов, а не их экземпляры.

### /components/
В процессе написания ✏
### /hocs/
В процессе написания ✏
### /pages/
В процессе написания ✏
### /public/
В процессе написания ✏
### /sections/
В процессе написания ✏
### /store/
В процессе написания ✏
### /styles/
В процессе написания ✏
### /templates/
В процессе написания ✏
### /tests/
В процессе написания ✏
### /utils/
В процессе написания ✏
### /webpack/
В процессе написания ✏

4. Ведение разработки
    - Git-регламент
    - Импорты и алиасы
    - Создание компонентов
    - Стили
    - Страницы
    - Redux
    - Тестирование
    
## Ведение разработки
### Git-регламент
В процессе написания ✏

### Импорты и алиасы
В процессе написания ✏

### Создание компонентов
В процессе написания ✏

### Стили
В процессе написания ✏

### Страницы
В процессе написания ✏

### Redux
В процессе написания ✏

### Тестирование
В процессе написания ✏
